{% extends "panel/base.html" %}
{% block title %}{{ release }}{% endblock %}
{% block navlist%}
    <li class="active"><a href="#">{{ release }}</a></li>
{% endblock %}
{% block content %}
<div class="container">
    <div class="panel panel-default" id="stats">
        <div class="panel-heading">
            <h3 class="panel-title">statistics</h3>
        </div>
        <div class="panel-body">
            <div>
                Total projects: <span id="stats-total">0</span>
            </div>
            <div>
                Failed: <span id="stats-danger">0</span>
            </div>
            <div class="progress">
                <div class="progress-bar progress-bar-danger"
                  role="progressbar" aria-valuenow="0" aria-valuemin="0"
                  aria-valuemax="100" style="min-width: 2em; width: 0%">
                      <span id="stats-label-danger">0% Failed</span>
                </div>
            </div>
            <ul class='list-group list-inline list-stat' id='stats-list-danger'>
                <li class='list-group-item hidden list-group-item-danger stats-project-danger-clone'></li>
            </ul>
            <div>
                Building: <span id="stats-created">0</span>
            </div>
            <div class="progress">
                <div class="progress-bar progress-bar-created"
                  role="progressbar" aria-valuenow="0" aria-valuemin="0"
                  aria-valuemax="100" style="min-width: 2em; width: 0%">
                      <span id="stats-label-danger">0% Building</span>
                </div>
            </div>
            <ul class='list-group list-inline list-stat' id='stats-list-created'>
                <li class='list-group-item hidden stats-project-created-clone'></li>
            </ul>
            <div>
                Success: <span id="stats-success">0</span>
            </div>
            <div class="progress">
                <div class="progress-bar progress-bar-success"
                  role="progressbar" aria-valuenow="0" aria-valuemin="0"
                  aria-valuemax="100" style="min-width: 2em; width: 0%">
                      <span id="stats-label-success">0% Success</span>
                </div>
            </div>
            <div>
                Warning: <span id="stats-warning">0</span>
            </div>
            <div class="progress">
                <div class="progress-bar progress-bar-warning"
                  role="progressbar" aria-valuenow="0" aria-valuemin="0"
                  aria-valuemax="100" style="min-width: 2em; width: 0%">
                      <span id="stats-label-warning">0% Warning</span>
                </div>
            </div>
            <ul class='list-group list-inline list-stat' id='stats-list-warning'>
                <li class='list-group-item hidden list-group-item-warning stats-project-warning-clone'></li>
            </ul>
        </div>
    </div>
    <div class="panel panel-default project-clone hidden">
        <div class="panel-heading">
            <h3 class="panel-title"></h3>
        </div>
        <div class="panel-body">
            <div class="panel panel-default hidden uuid-clone">
                <div class="panel-heading">
                    <h3 class="panel-title"></h3>
                </div>
                <div class="panel-body">
                    <ul class="list-group list-inline uuid-list">
                        <li class="list-group-item hidden job"></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="panel-footer error"></div>
    </div>
    <div id="project-list"></div>
</div>
{% endblock %}

{% block extrajs %}
<script type="text/javascript">
$( document ).ready(function() {
  $.release.max_uuids = 2;
  $.release.timer = setInterval(function(){
    update_info('{{release}}');
  }, $.release.interval);
  get_projects('{{release}}');
});
</script>
{% endblock %}
